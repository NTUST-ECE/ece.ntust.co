!function(n){n.fn.macho=function(e){var t=n.extend({length:3,inline:!0},e);len=t.length;var l=t.inline?"<span class='macho' style='display: inline-block;'>$&</span>":"<span class='macho'>$&</span>",h=function(n){return n.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")},i=function(n,e,t){if(0===e)return new RegExp(n);var l=new RegExp("((\\w+)|(&\\w{1,5};))"+n),a=l.exec(t);return null!=a?null!=a[2]&&a[2].length>3?l:i(h(a[0])+"$",--e,t):i("\\W"+n,--e,t)},a=new RegExp("(&\\w{1,5};|[-,_\\|<.>/?;:'\"`~!@#$%&*()\uff08\uff09\u2027\xb4\u30fb\u03c9\u3064\u0434\u0421\uff1b\u2200\uff9fo\u5f61\u2605\u2606\u25bd\uffe3\u256e\u256d\u30ce\u2570\u3012\u76bf\uff5e\u2534\u2035\u25a1\u2032\u2197\ufe34y\u03a6\u03b8\u2196\uff0c\u3002\uff1f\uff01\uff1a\uff1b\uff20m\uff03\uff04\uff05\ufe3f\uff06\uff0a\uff1d\uff0b\u2570\u256f\u5d29\u6f70\u8278\u51f8\u2229\uff3f\u02cd\u2581\u2582\u2583\u2584\u2585\u2586\u2587\u25e3\u25ce\u2588\u25e2^]+)$");this.each(function(){if(n(this).html().match(/</))return!0;var e=n(this).html().match(a);if(null!=e&&e[0].length>3)return n(this).html(n(this).html().replace(a,l))||!0;var t=null!=e?h(e[0])+"$":"$",r=i(t,len,n(this).html());return n(this).html(n(this).html().replace(r,l))||!0})}}(jQuery);